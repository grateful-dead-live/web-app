<!--The content below is only a placeholder and can be replaced.-->
<md-toolbar>
  <button md-button [mdMenuTriggerFor]="menu">Menu</button>
  <md-menu #menu="mdMenu">
    <button md-menu-item *ngFor="let e of events" (click)="eventSelected(e)">{{ e.date }} {{ e.location }}</button>
  </md-menu>
  <!--img src="https://pbs.twimg.com/profile_images/692441136472784896/KowiUPSf.jpg"-->
  <span>Grateful Dead Live</span>
  <md-toolbar-row *ngIf="selectedEvent">
    <span>{{ selectedEvent.date }} {{ selectedEvent.location }}</span>
  </md-toolbar-row>
</md-toolbar>
<md-grid-list [cols]="cols | async" rowHeight="400px">
  <md-grid-tile *ngIf="venue">
    <md-card class="gd-card">
      <md-card-header>
        <md-card-title>Venue</md-card-title>
        <md-card-subtitle>{{ venue.name }}</md-card-subtitle>
      </md-card-header>
      <!--md-card-content>({{ venue.sameas }})</md-card-content-->
      <img md-card-image src="{{ venue.image }}">
      <md-card-content>{{ venue.comment }}</md-card-content>
      <agm-map *ngIf="venue.geoloc" [latitude]="venue.geoloc.lat" [longitude]="venue.geoloc.long" [zoom]="12" [scrollwheel]=false>
        <agm-marker [latitude]="venue.geoloc.lat" [longitude]="venue.geoloc.long"></agm-marker>
      </agm-map>
    </md-card>
  </md-grid-tile>
  <md-grid-tile *ngIf="tickets&&tickets.length > 0">
    <md-card class="gd-card">
      <md-card-header>
        <md-card-title>Ticket</md-card-title>
      </md-card-header>
      <img md-card-image *ngFor="let t of tickets" src="{{ t }}">
    </md-card>
  </md-grid-tile>
  <md-grid-tile *ngIf="posters&&posters.length > 0">
    <md-card class="gd-card">
      <md-card-header>
        <md-card-title>Poster</md-card-title>
      </md-card-header>
      <img md-card-image *ngFor="let p of posters" src="{{ p }}">
    </md-card>
  </md-grid-tile>
  <md-grid-tile *ngIf="location">
    <md-card class="gd-card">
      <md-card-header>
        <md-card-title>Location</md-card-title>
        <md-card-subtitle>{{ location.name }}</md-card-subtitle>
      </md-card-header>
      <img md-card-image src="{{ location.image }}">
      <md-card-content>{{ location.comment }}</md-card-content>
      <agm-map *ngIf="location.geoloc" [latitude]="location.geoloc.lat" [longitude]="location.geoloc.long" [zoom]="9"  [scrollwheel]=false>
        <agm-marker [latitude]="location.geoloc.lat" [longitude]="location.geoloc.long"></agm-marker>
      </agm-map>
    </md-card>
  </md-grid-tile>
  <md-grid-tile *ngIf="weather">
    <md-card class="gd-card">
      <md-card-header>
        <md-card-title>Weather</md-card-title>
      </md-card-header>
      <md-card-content>
        <h6>{{ weather.maxTemperature }} Â°C<br>{{ weather.precipitation }} mm</h6>
      </md-card-content>
    </md-card>
  </md-grid-tile>
  <md-grid-tile *ngIf="setlist">
    <md-card class="gd-card">
      <md-card-header>
        <md-card-title>Setlist</md-card-title>
      </md-card-header>
      <md-card-content>
        <div *ngFor="let s of setlist">{{ s }}</div>
      </md-card-content>
    </md-card>
  </md-grid-tile>
  <md-grid-tile *ngIf="performers&&performers.length > 0">
    <md-card class="gd-card">
      <md-card-header>
        <md-card-title>Performers</md-card-title>
      </md-card-header>
      <md-card-content>
        <md-grid-list [cols]="3">
          <md-grid-tile *ngFor="let i of performerImages">
            <img src="{{ i }}" width="100%">
          </md-grid-tile>
        </md-grid-list>
        <div *ngFor="let p of performers">{{ p.name }} ({{ p.instruments.join(', ') }})</div>
      </md-card-content>
    </md-card>
  </md-grid-tile>
  <md-grid-tile *ngIf="recordings&&recordings.length > 0">
    <md-card class="gd-card">
      <md-card-header>
        <md-card-title>Recordings</md-card-title>
      </md-card-header>
      <iframe [src]="sanitizer.bypassSecurityTrustResourceUrl(selectedRec)" width="400" height="500" frameborder="0"></iframe>
    </md-card>
  </md-grid-tile>
</md-grid-list>
<date-axis [events]="events" [onClick]="eventSelected.bind(this)"></date-axis>